{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ionicApps\\\\newBillPayApp\\\\billPayApp\\\\src\\\\pages\\\\Login.tsx\";\nimport React, { useState } from 'react';\nimport { IonPage, IonLabel, IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonInput, IonButton, IonCheckbox, IonList, withIonLifeCycle } from '@ionic/react';\nimport Widgets from '../components/Widgets';\nimport AppInfo from '../components/AppInfo';\nimport tools from '../components/Tools';\nimport axios from 'axios';\n\nclass Login {\n  constructor() {\n    this.show = () => {\n      var MARGIN = tools.compare(tools.platform(), true, \"10%\", \"35%\");\n      const [errorText, setErrorText] = useState(\"\");\n      const [rememberChecked, setRememberChecked] = useState(false);\n      const [username, setUsername] = useState(false);\n      var credentials = {\n        SERVERUSERNAME: tools.SERVERUSERNAME,\n        SERVERPASSWORD: tools.SERVERPASSWORD,\n        username: \"\",\n        password: \"\"\n      };\n\n      var ionViewWillEnter = () => {\n        var creds = tools.getCreds();\n\n        if (creds.username && creds.password) {\n          credentials.username = creds.username;\n          credentials.password = creds.password;\n          this.setState({\n            username: this.credentials.username,\n            password: this.credentials.password\n          });\n          setRememberChecked(true);\n        }\n      };\n\n      const server = () => {\n        setErrorText(\"\");\n        tools.clickById(\"start-loader\");\n        axios.post(tools.URL.LOGIN, credentials).then(response => {\n          if (response.data === true) {\n            if (rememberChecked) {\n              tools.saveCreds(credentials.username, credentials.password);\n            } else {\n              credentials.username = \"\";\n              credentials.password = \"\";\n              tools.clearStorage();\n            }\n\n            tools.clickById(\"home\");\n          } else if (response.data === false) {\n            setErrorText(tools.MSG.wrongPassword);\n          } else if (response.data === null) {\n            setErrorText(tools.MSG.userNotExist);\n          } else {\n            setErrorText(tools.MSG.somethingWrong);\n          }\n        }).catch(() => {\n          setErrorText(tools.MSG.serverDown);\n        }).finally(() => {\n          tools.clickById(\"stop-loader\");\n        });\n      };\n\n      return /*#__PURE__*/React.createElement(IonPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Widgets.languages, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Widgets.routes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Widgets.loadSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(AppInfo.All, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(IonHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(IonToolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IonTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, tools.MSG.APPNAME))), /*#__PURE__*/React.createElement(IonContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(IonItem, {\n        style: {\n          textAlign: \"center\",\n          color: \"red\"\n        },\n        lines: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IonLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, errorText)), /*#__PURE__*/React.createElement(IonList, {\n        style: {\n          marginLeft: MARGIN,\n          marginRight: MARGIN,\n          padding: \"4%\",\n          border: \"1px solid #000\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Widgets.textStyle, {\n        subtitle: \"Sign in\",\n        textColor: \"blue\",\n        title: tools.MSG.APPNAME,\n        L: \"22%\",\n        C: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(IonItem, {\n        id: \"login-email\",\n        class: \"loginItemStyle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IonLabel, {\n        position: \"floating\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(IonInput, {\n        type: \"text\",\n        onIonChange: e => {\n          if (e.detail.value) {\n            credentials.username = e.detail.value;\n            tools.inputValidationReset(\"login-email\");\n          }\n        },\n        value: credentials.username,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(IonItem, {\n        id: \"login-password\",\n        class: \"loginItemStyle\",\n        style: {\n          marginTop: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IonLabel, {\n        position: \"floating\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(IonInput, {\n        type: \"password\",\n        onIonChange: e => {\n          if (e.detail.value) {\n            credentials.password = e.detail.value;\n            tools.inputValidationReset(\"login-password\");\n          }\n        },\n        value: credentials.password,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\",\n          color: \"navy\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IonCheckbox, {\n        checked: rememberChecked,\n        onIonChange: e => {\n          setRememberChecked(e.detail.checked);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(IonLabel, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, \"Remember me\")), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: \"15px\",\n          color: \"Crimson\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IonLabel, {\n        class: \"underLine\",\n        onClick: () => {\n          tools.clickById(\"password-recover\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      }, \"Forgot credentials?\")), /*#__PURE__*/React.createElement(IonItem, {\n        style: {\n          marginTop: \"50px\",\n          color: \"navy\"\n        },\n        lines: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(IonLabel, {\n        class: \"underLine\",\n        onClick: () => {\n          tools.clickById(\"register\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, \"Create account\"), /*#__PURE__*/React.createElement(IonButton, {\n        id: \"login-go\",\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: () => {\n          var validate = [[credentials.username, \"login-email\"], [credentials.password, \"login-password\"]];\n\n          if (tools.inputValidation(validate)) {\n            if (tools.emailValidate(credentials.username)) {\n              server();\n            } else {\n              tools.inputValidation([[\"\", \"login-email\"]]);\n              setErrorText(tools.MSG.validEmail);\n            }\n          } else {\n            setErrorText(tools.MSG.provideValidCreds);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(IonLabel, {\n        class: \"underLine\",\n        onClick: () => {\n          tools.clickById(\"home\");\n        },\n        style: {\n          color: \"Teal\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, \"Back to home\")), /*#__PURE__*/React.createElement(IonItem, {\n        style: {\n          marginLeft: MARGIN,\n          marginRight: MARGIN,\n          textAlign: \"center\",\n          fontWeight: \"bold\",\n          color: \"Black\"\n        },\n        lines: \"full\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AppInfo.Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }))));\n    };\n  }\n\n}\n\nvar login = new Login();\nexport default withIonLifeCycle(login.show);","map":{"version":3,"sources":["C:/Users/user/Desktop/ionicApps/newBillPayApp/billPayApp/src/pages/Login.tsx"],"names":["React","useState","IonPage","IonLabel","IonHeader","IonToolbar","IonTitle","IonContent","IonItem","IonInput","IonButton","IonCheckbox","IonList","withIonLifeCycle","Widgets","AppInfo","tools","axios","Login","show","MARGIN","compare","platform","errorText","setErrorText","rememberChecked","setRememberChecked","username","setUsername","credentials","SERVERUSERNAME","SERVERPASSWORD","password","ionViewWillEnter","creds","getCreds","setState","server","clickById","post","URL","LOGIN","then","response","data","saveCreds","clearStorage","MSG","wrongPassword","userNotExist","somethingWrong","catch","serverDown","finally","APPNAME","textAlign","color","marginLeft","marginRight","padding","border","e","detail","value","inputValidationReset","marginTop","checked","cursor","validate","inputValidation","emailValidate","validEmail","provideValidCreds","fontWeight","login"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { IonPage, IonLabel, IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonInput, IonButton, IonCheckbox, IonList, withIonLifeCycle } from '@ionic/react';\r\nimport Widgets from '../components/Widgets';\r\nimport AppInfo from '../components/AppInfo';\r\nimport tools from '../components/Tools';\r\nimport axios from 'axios';\r\n\r\ninterface Creds{\r\n  SERVERUSERNAME:string,\r\n  SERVERPASSWORD:string,\r\n  username:string,\r\n  password:string,\r\n}\r\n\r\nclass Login{\r\n  show: React.FC = () => {  \r\n    var MARGIN = tools.compare(tools.platform(),true,\"10%\",\"35%\");\r\n\r\n    const [ errorText, setErrorText ] = useState(\"\");\r\n    const [ rememberChecked, setRememberChecked ] = useState(false);\r\n    const [ username, setUsername ] = useState(false);\r\n\r\n    var credentials:Creds = {\r\n      SERVERUSERNAME:tools.SERVERUSERNAME,\r\n      SERVERPASSWORD:tools.SERVERPASSWORD,\r\n      username:\"\",\r\n      password:\"\",\r\n    }\r\n\r\n    var ionViewWillEnter = () =>{\r\n      var creds = tools.getCreds();\r\n      if (creds.username && creds.password){\r\n          credentials.username = creds.username;\r\n          credentials.password = creds.password;\r\n          this.setState({\r\n              username:this.credentials.username,\r\n              password:this.credentials.password\r\n          });\r\n          setRememberChecked(true);\r\n      }\r\n    }\r\n\r\n    const server = () => {\r\n      setErrorText(\"\");\r\n      tools.clickById(\"start-loader\");\r\n      axios.post(tools.URL.LOGIN,credentials)\r\n      .then(response =>{\r\n          if (response.data === true){\r\n              if (rememberChecked){\r\n                  tools.saveCreds(credentials.username,credentials.password);\r\n              }else{\r\n                  credentials.username = \"\";\r\n                  credentials.password = \"\";\r\n                  tools.clearStorage();\r\n              }\r\n              tools.clickById(\"home\")\r\n          }else if (response.data === false){\r\n              setErrorText(tools.MSG.wrongPassword);\r\n          }else if (response.data === null){\r\n            setErrorText(tools.MSG.userNotExist);\r\n          }else{\r\n            setErrorText(tools.MSG.somethingWrong);\r\n          }\r\n      })\r\n      .catch(()=>{\r\n        setErrorText(tools.MSG.serverDown);\r\n      })\r\n      .finally(()=>{\r\n          tools.clickById(\"stop-loader\");\r\n      })\r\n    }\r\n\r\n    return (\r\n      <IonPage>\r\n        <Widgets.languages/>\r\n        <Widgets.routes/>\r\n        <Widgets.loadSpinner/>\r\n        <AppInfo.All/>\r\n\r\n        <IonHeader>\r\n          <IonToolbar>\r\n            <IonTitle>{tools.MSG.APPNAME}</IonTitle>\r\n          </IonToolbar>\r\n        </IonHeader>\r\n\r\n        <IonContent>\r\n            <IonItem style={{textAlign:\"center\",color:\"red\"}} lines=\"none\">\r\n                <IonLabel>{errorText}</IonLabel>\r\n            </IonItem>\r\n            <IonList style={{marginLeft:MARGIN,marginRight:MARGIN,\r\n                    padding:\"4%\",border:\"1px solid #000\"}}>\r\n                <Widgets.textStyle subtitle=\"Sign in\" textColor=\"blue\" title={tools.MSG.APPNAME} L=\"22%\" C=\"\"/>\r\n\r\n                <IonItem id=\"login-email\" class=\"loginItemStyle\">\r\n                    <IonLabel position=\"floating\">Email</IonLabel>\r\n                    <IonInput type=\"text\" onIonChange={e=>{\r\n                      if (e.detail.value){\r\n                        credentials.username = e.detail.value;\r\n                        tools.inputValidationReset(\"login-email\");\r\n                      }\r\n                    }} value={credentials.username}></IonInput>\r\n                </IonItem>\r\n\r\n                <IonItem id=\"login-password\" class=\"loginItemStyle\" style={{marginTop:\"5px\"}}>\r\n                    <IonLabel position=\"floating\">Password</IonLabel>\r\n                    <IonInput type=\"password\" onIonChange={e=>{\r\n                      if (e.detail.value){\r\n                        credentials.password = e.detail.value;\r\n                        tools.inputValidationReset(\"login-password\");\r\n                      }\r\n                    }} value={credentials.password}></IonInput>\r\n                </IonItem>\r\n\r\n                <div style={{marginTop:\"20px\",color:\"navy\"}}>\r\n                    <IonCheckbox checked={rememberChecked} onIonChange={e =>{\r\n                        setRememberChecked(e.detail.checked);\r\n                    }}></IonCheckbox>\r\n                    <IonLabel>Remember me</IonLabel>\r\n                </div>\r\n\r\n                <div style={{marginTop:\"15px\",color:\"Crimson\"}}>\r\n                    <IonLabel class=\"underLine\" onClick={()=>{\r\n                        tools.clickById(\"password-recover\");\r\n                    }}>Forgot credentials?</IonLabel>\r\n                </div>\r\n                \r\n                <IonItem style={{marginTop:\"50px\",color:\"navy\"}} lines=\"none\">\r\n                    <IonLabel class=\"underLine\" onClick={()=>{\r\n                        tools.clickById(\"register\");\r\n                    }}>Create account</IonLabel>\r\n                    <IonButton id=\"login-go\" style={{cursor:\"pointer\"}} onClick={()=>{\r\n                        var validate = [\r\n                            [credentials.username,\"login-email\"],\r\n                            [credentials.password,\"login-password\"],\r\n                        ]\r\n                        if (tools.inputValidation(validate)){\r\n                            if (tools.emailValidate(credentials.username)){\r\n                                server();\r\n                            }else{\r\n                                tools.inputValidation([[\"\",\"login-email\"]]);\r\n                                setErrorText(tools.MSG.validEmail);\r\n                            }\r\n                        }else{\r\n                          setErrorText(tools.MSG.provideValidCreds);\r\n                        }\r\n                    }}>Login</IonButton>\r\n                </IonItem>\r\n                <IonLabel class=\"underLine\" onClick={()=>{\r\n                    tools.clickById(\"home\")\r\n                }} style={{color:\"Teal\"}}>Back to home</IonLabel>  \r\n            </IonList>\r\n\r\n            <IonItem style={{marginLeft:MARGIN,marginRight:MARGIN,textAlign:\"center\",\r\n                    fontWeight:\"bold\",color:\"Black\"}} lines=\"full\">\r\n                <AppInfo.Nav/>\r\n            </IonItem>\r\n        </IonContent>\r\n      </IonPage>\r\n    );\r\n  };\r\n}\r\nvar login = new Login()\r\nexport default withIonLifeCycle(login.show);"]},"metadata":{},"sourceType":"module"}