{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ionicApps\\\\newBillPayApp\\\\billPayApp\\\\src\\\\pages\\\\Login.tsx\";\nimport React, { useState } from 'react';\nimport { IonPage, IonLabel, IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonInput, IonButton, IonCheckbox, IonList } from '@ionic/react';\nimport Widgets from '../components/Widgets';\nimport AppInfo from '../components/AppInfo';\nimport tools from '../components/Tools';\nimport axios from 'axios';\nimport serverVar from '../components/ServerVar';\nimport './Home.css';\n\nconst Login = () => {\n  tools.isLogin(false);\n  var MARGIN = tools.compare(tools.platform(), true, \"2%\", \"35%\");\n  const [runOnce, setRunOnce] = useState(true);\n  const [errorText, setErrorText] = useState(\"\");\n  const [rememberChecked, setRememberChecked] = useState(false);\n\n  var ionViewWillEnter = () => {\n    var creds = tools.getCreds();\n\n    if (creds.username && creds.password) {\n      serverVar.LOGIN.username = creds.username;\n      serverVar.LOGIN.password = creds.password;\n\n      if (!rememberChecked) {\n        setRememberChecked(true);\n      }\n    }\n  };\n\n  if (runOnce) {\n    ionViewWillEnter();\n    setRunOnce(false);\n  }\n\n  const server = () => {\n    tools.clickById(\"start-loader\");\n    setErrorText(\"\");\n    axios.post(tools.URL.LOGIN, serverVar.LOGIN).then(response => {\n      if (response.data === true) {\n        if (rememberChecked) {\n          tools.saveCreds(serverVar.LOGIN.username, serverVar.LOGIN.password);\n        } else {\n          serverVar.LOGIN.username = \"\";\n          serverVar.LOGIN.password = \"\";\n          tools.clearCreds();\n        }\n\n        tools.isLogin(true);\n        tools.clickById(\"stop-loader\");\n        tools.clickById(\"home\");\n      } else if (response.data === false) {\n        setErrorText(tools.MSG.wrongPassword);\n        tools.clickById(\"stop-loader\");\n      } else if (response.data === null) {\n        setErrorText(tools.MSG.userNotExist);\n        tools.clickById(\"stop-loader\");\n      } else {\n        setErrorText(tools.MSG.somethingWrong);\n        tools.clickById(\"stop-loader\");\n      }\n    }).catch(() => {\n      setErrorText(tools.MSG.serverDown);\n      tools.clickById(\"stop-loader\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Widgets.languages, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Widgets.routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Widgets.loadSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, tools.MSG.APPNAME))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    style: {\n      textAlign: \"center\",\n      color: \"red\"\n    },\n    lines: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, errorText)), /*#__PURE__*/React.createElement(IonList, {\n    style: {\n      marginLeft: MARGIN,\n      marginRight: MARGIN,\n      padding: \"4%\",\n      border: \"1px solid #000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Widgets.textStyle, {\n    subtitle: \"Sign in\",\n    textColor: \"blue\",\n    title: tools.MSG.APPNAME,\n    LM: \"31%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IonItem, {\n    id: \"login-email\",\n    class: \"loginItemStyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"text\",\n    onIonChange: e => {\n      if (e.detail.value) {\n        serverVar.LOGIN.username = e.detail.value;\n        tools.inputValidationReset(\"login-email\");\n      }\n    },\n    value: serverVar.LOGIN.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(IonItem, {\n    id: \"login-password\",\n    class: \"loginItemStyle\",\n    style: {\n      marginTop: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    position: \"floating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(IonInput, {\n    type: \"password\",\n    onIonChange: e => {\n      if (e.detail.value) {\n        serverVar.LOGIN.password = e.detail.value;\n        tools.inputValidationReset(\"login-password\");\n      }\n    },\n    value: serverVar.LOGIN.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\",\n      color: \"navy\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonCheckbox, {\n    checked: rememberChecked,\n    onIonChange: e => {\n      setRememberChecked(e.detail.checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Remember me\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"15px\",\n      color: \"Crimson\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    class: \"underLine\",\n    onClick: () => {\n      tools.clickById(\"recover\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"Forgot credentials?\")), /*#__PURE__*/React.createElement(IonItem, {\n    style: {\n      marginTop: \"50px\",\n      color: \"navy\"\n    },\n    lines: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    class: \"underLine\",\n    onClick: () => {\n      tools.clickById(\"register\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, \"Create account\"), /*#__PURE__*/React.createElement(IonButton, {\n    id: \"login-go\",\n    style: {\n      cursor: \"pointer\"\n    },\n    onClick: () => {\n      var validate = [[serverVar.LOGIN.username, \"login-email\"], [serverVar.LOGIN.password, \"login-password\"]];\n\n      if (tools.inputValidation(validate)) {\n        if (tools.emailValidate(serverVar.LOGIN.username)) {\n          server();\n        } else {\n          tools.inputValidation([[\"\", \"login-email\"]]);\n          setErrorText(tools.MSG.validEmail);\n        }\n      } else {\n        setErrorText(tools.MSG.provideValidCreds);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(IonLabel, {\n    hidden: true,\n    class: \"underLine\",\n    onClick: () => {\n      tools.clickById(\"login\");\n    },\n    style: {\n      color: \"Teal\",\n      border: \"1px solid lightgray\",\n      padding: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Back to home\")), /*#__PURE__*/React.createElement(IonItem, {\n    style: {\n      marginLeft: MARGIN,\n      marginRight: MARGIN\n    },\n    lines: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AppInfo.Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonButton, {\n    onClick: () => {\n      tools.clickById('home');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"test\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/user/Desktop/ionicApps/newBillPayApp/billPayApp/src/pages/Login.tsx"],"names":["React","useState","IonPage","IonLabel","IonHeader","IonToolbar","IonTitle","IonContent","IonItem","IonInput","IonButton","IonCheckbox","IonList","Widgets","AppInfo","tools","axios","serverVar","Login","isLogin","MARGIN","compare","platform","runOnce","setRunOnce","errorText","setErrorText","rememberChecked","setRememberChecked","ionViewWillEnter","creds","getCreds","username","password","LOGIN","server","clickById","post","URL","then","response","data","saveCreds","clearCreds","MSG","wrongPassword","userNotExist","somethingWrong","catch","serverDown","APPNAME","textAlign","color","marginLeft","marginRight","padding","border","e","detail","value","inputValidationReset","marginTop","checked","cursor","validate","inputValidation","emailValidate","validEmail","provideValidCreds"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { IonPage, IonLabel, IonHeader, IonToolbar, IonTitle, IonContent, IonItem, IonInput, IonButton, IonCheckbox, IonList } from '@ionic/react';\r\nimport Widgets from '../components/Widgets';\r\nimport AppInfo from '../components/AppInfo';\r\nimport tools from '../components/Tools';\r\nimport axios from 'axios';\r\nimport serverVar from '../components/ServerVar';\r\nimport './Home.css';\r\n\r\n\r\nconst Login: React.FC = () => {  \r\n  tools.isLogin(false);\r\n  \r\n  \r\n  var MARGIN = tools.compare(tools.platform(),true,\"2%\",\"35%\");\r\n\r\n  const [ runOnce, setRunOnce ] = useState(true);\r\n  const [ errorText, setErrorText ] = useState(\"\");\r\n  const [ rememberChecked, setRememberChecked ] = useState(false);\r\n\r\n  var ionViewWillEnter = () =>{\r\n    var creds = tools.getCreds();\r\n    if (creds.username && creds.password){\r\n      serverVar.LOGIN.username = creds.username;\r\n      serverVar.LOGIN.password = creds.password;\r\n      if (!rememberChecked){\r\n        setRememberChecked(true);\r\n      }\r\n    }\r\n  }\r\n  if (runOnce){\r\n    ionViewWillEnter()\r\n    setRunOnce(false);\r\n  }\r\n\r\n  const server = () => {\r\n    tools.clickById(\"start-loader\");\r\n    setErrorText(\"\");\r\n    axios.post(tools.URL.LOGIN,serverVar.LOGIN)\r\n    .then(response =>{\r\n        if (response.data === true){\r\n            if (rememberChecked){\r\n                tools.saveCreds(serverVar.LOGIN.username,serverVar.LOGIN.password);\r\n            }else{\r\n              serverVar.LOGIN.username = \"\";\r\n              serverVar.LOGIN.password = \"\";\r\n              tools.clearCreds();\r\n            }\r\n            tools.isLogin(true);\r\n            tools.clickById(\"stop-loader\");\r\n            tools.clickById(\"home\");            \r\n        }else if (response.data === false){\r\n            setErrorText(tools.MSG.wrongPassword);\r\n            tools.clickById(\"stop-loader\");\r\n        }else if (response.data === null){\r\n          setErrorText(tools.MSG.userNotExist);\r\n          tools.clickById(\"stop-loader\");\r\n        }else{\r\n          setErrorText(tools.MSG.somethingWrong);\r\n          tools.clickById(\"stop-loader\");\r\n        }\r\n        \r\n    })\r\n    .catch(()=>{\r\n\r\n      setErrorText(tools.MSG.serverDown);\r\n      tools.clickById(\"stop-loader\");\r\n    });\r\n  }\r\n\r\n  return (\r\n    <IonPage>\r\n      <Widgets.languages/>\r\n      <Widgets.routes/>\r\n      <Widgets.loadSpinner/>\r\n\r\n      <IonHeader>\r\n        <IonToolbar>\r\n          <IonTitle>{tools.MSG.APPNAME}</IonTitle>\r\n        </IonToolbar>\r\n      </IonHeader>\r\n\r\n      <IonContent>\r\n          <IonItem style={{textAlign:\"center\",color:\"red\"}} lines=\"none\">\r\n              <IonLabel>{errorText}</IonLabel>\r\n          </IonItem>\r\n          <IonList style={{marginLeft:MARGIN,marginRight:MARGIN,\r\n                  padding:\"4%\",border:\"1px solid #000\"}}>\r\n              <Widgets.textStyle subtitle=\"Sign in\" textColor=\"blue\" title={tools.MSG.APPNAME} LM=\"31%\"/>\r\n\r\n              <IonItem id=\"login-email\" class=\"loginItemStyle\">\r\n                  <IonLabel position=\"floating\">Email</IonLabel>\r\n                  <IonInput type=\"text\" onIonChange={e=>{\r\n                    if (e.detail.value){\r\n                      serverVar.LOGIN.username = e.detail.value;\r\n                      tools.inputValidationReset(\"login-email\");\r\n                    }\r\n                  }} value={serverVar.LOGIN.username}></IonInput>\r\n              </IonItem>\r\n\r\n              <IonItem id=\"login-password\" class=\"loginItemStyle\" style={{marginTop:\"5px\"}}>\r\n                  <IonLabel position=\"floating\">Password</IonLabel>\r\n                  <IonInput type=\"password\" onIonChange={e=>{\r\n                    if (e.detail.value){\r\n                      serverVar.LOGIN.password = e.detail.value;\r\n                      tools.inputValidationReset(\"login-password\");\r\n                    }\r\n                  }} value={serverVar.LOGIN.password}></IonInput>\r\n              </IonItem>\r\n\r\n              <div style={{marginTop:\"20px\",color:\"navy\"}}>\r\n                  <IonCheckbox checked={rememberChecked} onIonChange={e =>{\r\n                      setRememberChecked(e.detail.checked);\r\n                  }}></IonCheckbox>\r\n                  <IonLabel>Remember me</IonLabel>\r\n              </div>\r\n\r\n              <div style={{marginTop:\"15px\",color:\"Crimson\"}}>\r\n                  <IonLabel class=\"underLine\" onClick={()=>{\r\n                      tools.clickById(\"recover\");\r\n                  }}>Forgot credentials?</IonLabel>\r\n              </div>\r\n              \r\n              <IonItem style={{marginTop:\"50px\",color:\"navy\"}} lines=\"none\">\r\n                  <IonLabel class=\"underLine\" onClick={()=>{\r\n                      tools.clickById(\"register\");\r\n                  }}>Create account</IonLabel>\r\n                  <IonButton id=\"login-go\" style={{cursor:\"pointer\"}} onClick={()=>{\r\n                      var validate = [\r\n                          [serverVar.LOGIN.username,\"login-email\"],\r\n                          [serverVar.LOGIN.password,\"login-password\"],\r\n                      ]\r\n                      if (tools.inputValidation(validate)){\r\n                          if (tools.emailValidate(serverVar.LOGIN.username)){\r\n                              server();\r\n                          }else{\r\n                              tools.inputValidation([[\"\",\"login-email\"]]);\r\n                              setErrorText(tools.MSG.validEmail);\r\n                          }\r\n                      }else{\r\n                        setErrorText(tools.MSG.provideValidCreds);\r\n                      }\r\n                  }}>Login</IonButton>\r\n              </IonItem>\r\n              <IonLabel hidden class=\"underLine\" onClick={()=>{\r\n                  tools.clickById(\"login\");\r\n              }} style={{\r\n                color:\"Teal\",\r\n                border:\"1px solid lightgray\",\r\n                padding:\"5px\"\r\n              }}>Back to home</IonLabel>  \r\n          </IonList>\r\n\r\n          <IonItem style={{marginLeft:MARGIN,marginRight:MARGIN}} lines=\"full\">\r\n              <AppInfo.Nav/>\r\n          </IonItem>\r\n          <IonButton onClick={()=>{tools.clickById('home')}}>test</IonButton>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}