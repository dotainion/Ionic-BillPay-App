{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\ionicApps\\\\newBillPayApp\\\\billPayApp\\\\src\\\\pages\\\\Login.tsx\";\nimport React, { Component } from 'react';\nimport { withIonLifeCycle, IonPage, IonItem, IonLabel, IonInput, IonContent, IonHeader, IonToolbar, IonTitle, IonList, IonButton, IonCheckbox } from '@ionic/react';\nimport Widgets from '../components/Widgets';\nimport tools from '../components/Tools';\nimport AppInfo from '../components/AppInfo';\nimport axios from 'axios';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.credentials = {\n      SERVERUSERNAME: tools.SERVERUSERNAME,\n      SERVERPASSWORD: tools.SERVERPASSWORD,\n      username: \"\",\n      password: \"\"\n    };\n    this.errorText = \"\";\n    this.rememberChecked = false;\n  }\n\n  ionViewWillEnter() {\n    var creds = tools.getCreds();\n\n    if (creds.username && creds.password) {\n      this.credentials.username = creds.username;\n      this.credentials.password = creds.password;\n      this.setState({\n        username: this.credentials.username,\n        password: this.credentials.password\n      });\n      this.rememberChecked = true;\n    }\n  }\n\n  server() {\n    this.errorText = \"\";\n    tools.clickById(\"start-loader\");\n    axios.post(tools.URL.LOGIN, this.credentials).then(response => {\n      if (response.data === true) {\n        console.log(this.rememberChecked);\n\n        if (this.rememberChecked) {\n          tools.saveCreds(this.credentials.username, this.credentials.password);\n        } else {\n          this.credentials.username = \"\";\n          this.credentials.password = \"\";\n          tools.clearStorage();\n        }\n\n        tools.clickById(\"home\");\n      } else if (response.data === false) {\n        this.errorText = tools.MSG.wrongPassword;\n      } else if (response.data === null) {\n        this.errorText = tools.MSG.userNotExist;\n      } else {\n        this.errorText = tools.MSG.somethingWrong;\n      }\n    }).catch(error => {\n      this.errorText = tools.MSG.serverDown;\n    }).finally(final => {\n      tools.clickById(\"stop-loader\");\n      this.setState({\n        errorText: this.errorText\n      });\n    });\n  }\n\n  render() {\n    var {\n      username,\n      password\n    } = this.credentials;\n    var MARGIN = tools.compare(tools.platform(), true, \"10%\", \"35%\");\n    document.addEventListener(\"keypress\", function (e) {\n      console.log(e.keyCode);\n\n      if (e.keyCode === 13) {\n        tools.clickById(\"login-go\");\n      }\n    });\n    return /*#__PURE__*/React.createElement(IonPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Widgets.languages, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Widgets.routes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Widgets.loadSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(AppInfo.All, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IonHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonToolbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IonTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, tools.MSG.APPNAME))), /*#__PURE__*/React.createElement(IonContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IonItem, {\n      style: {\n        textAlign: \"center\",\n        color: \"red\"\n      },\n      lines: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, this.errorText)), /*#__PURE__*/React.createElement(IonList, {\n      style: {\n        marginLeft: MARGIN,\n        marginRight: MARGIN,\n        padding: \"4%\",\n        border: \"1px solid #000\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Widgets.textStyle, {\n      subtitle: \"Sign in\",\n      textColor: \"blue\",\n      title: tools.MSG.APPNAME,\n      L: \"22%\",\n      C: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(IonItem, {\n      id: \"login-email\",\n      class: \"loginItemStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      position: \"floating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(IonInput, {\n      type: \"text\",\n      onIonChange: e => {\n        this.credentials.username = e.detail.value;\n        tools.inputValidationReset(\"login-email\");\n      },\n      value: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(IonItem, {\n      id: \"login-password\",\n      class: \"loginItemStyle\",\n      style: {\n        marginTop: \"5px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      position: \"floating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 29\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(IonInput, {\n      type: \"password\",\n      onIonChange: e => {\n        this.credentials.password = e.detail.value;\n        tools.inputValidationReset(\"login-password\");\n      },\n      value: password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        color: \"navy\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IonCheckbox, {\n      checked: this.rememberChecked,\n      onIonChange: e => {\n        this.rememberChecked = e.detail.checked;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(IonLabel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, \"Remember me\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: \"15px\",\n        color: \"Crimson\"\n      },\n      lines: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      class: \"underLine\",\n      onClick: () => {\n        tools.clickById(\"password-recover\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }, \"Forgot credentials?\")), /*#__PURE__*/React.createElement(IonItem, {\n      style: {\n        marginTop: \"50px\",\n        color: \"navy\"\n      },\n      lines: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(IonLabel, {\n      class: \"underLine\",\n      onClick: () => {\n        tools.clickById(\"register\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, \"Create account\"), /*#__PURE__*/React.createElement(IonButton, {\n      id: \"login-go\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: () => {\n        var validate = [[this.credentials.username, \"login-email\"], [this.credentials.password, \"login-password\"]];\n\n        if (tools.inputValidation(validate)) {\n          if (tools.emailValidate(this.credentials.username)) {\n            this.server();\n          } else {\n            tools.inputValidation([[\"\", \"login-email\"]]);\n            this.errorText = tools.MSG.validEmail;\n            this.setState({\n              errorText: this.errorText\n            });\n          }\n        } else {\n          this.errorText = tools.MSG.provideValidCreds;\n          this.setState({\n            errorText: this.errorText\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(IonLabel, {\n      class: \"underLine\",\n      onClick: () => {\n        tools.clickById(\"home\");\n      },\n      style: {\n        color: \"Teal\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"Back to home\")), /*#__PURE__*/React.createElement(IonItem, {\n      style: {\n        marginLeft: MARGIN,\n        marginRight: MARGIN,\n        textAlign: \"center\",\n        fontWeight: \"bold\",\n        color: \"Black\"\n      },\n      lines: \"full\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AppInfo.Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default withIonLifeCycle(Login);","map":{"version":3,"sources":["C:/Users/user/Desktop/ionicApps/newBillPayApp/billPayApp/src/pages/Login.tsx"],"names":["React","Component","withIonLifeCycle","IonPage","IonItem","IonLabel","IonInput","IonContent","IonHeader","IonToolbar","IonTitle","IonList","IonButton","IonCheckbox","Widgets","tools","AppInfo","axios","Login","constructor","credentials","SERVERUSERNAME","SERVERPASSWORD","username","password","errorText","rememberChecked","ionViewWillEnter","creds","getCreds","setState","server","clickById","post","URL","LOGIN","then","response","data","console","log","saveCreds","clearStorage","MSG","wrongPassword","userNotExist","somethingWrong","catch","error","serverDown","finally","final","render","MARGIN","compare","platform","document","addEventListener","e","keyCode","APPNAME","textAlign","color","marginLeft","marginRight","padding","border","detail","value","inputValidationReset","marginTop","checked","cursor","validate","inputValidation","emailValidate","validEmail","provideValidCreds","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withIonLifeCycle, IonPage, IonItem, IonLabel, IonInput, IonContent, IonHeader, IonToolbar, IonTitle, IonList, IonButton, IonCheckbox } from '@ionic/react';\r\nimport Widgets from '../components/Widgets';\r\nimport tools from '../components/Tools';\r\nimport AppInfo from '../components/AppInfo';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Login extends Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.credentials = {\r\n            SERVERUSERNAME:tools.SERVERUSERNAME,\r\n            SERVERPASSWORD:tools.SERVERPASSWORD,\r\n            username:\"\",\r\n            password:\"\",\r\n        }\r\n\r\n        this.errorText = \"\";\r\n\r\n        this.rememberChecked = false;\r\n    }\r\n\r\n    ionViewWillEnter(){\r\n        var creds = tools.getCreds();\r\n        if (creds.username && creds.password){\r\n            this.credentials.username = creds.username;\r\n            this.credentials.password = creds.password;\r\n            this.setState({\r\n                username:this.credentials.username,\r\n                password:this.credentials.password\r\n            });\r\n            this.rememberChecked = true;\r\n        }\r\n    }\r\n\r\n    server(){\r\n        this.errorText = \"\";\r\n        tools.clickById(\"start-loader\");\r\n        axios.post(tools.URL.LOGIN,this.credentials)\r\n        .then(response =>{\r\n            if (response.data === true){\r\n                console.log(this.rememberChecked)\r\n                if (this.rememberChecked){\r\n                    tools.saveCreds(this.credentials.username,this.credentials.password);\r\n                }else{\r\n                    this.credentials.username = \"\";\r\n                    this.credentials.password = \"\";\r\n                    tools.clearStorage();\r\n                }\r\n                tools.clickById(\"home\")\r\n            }else if (response.data === false){\r\n                this.errorText = tools.MSG.wrongPassword;\r\n            }else if (response.data === null){\r\n                this.errorText = tools.MSG.userNotExist;\r\n            }else{\r\n                this.errorText = tools.MSG.somethingWrong;\r\n            }\r\n        })\r\n        .catch(error=>{\r\n            this.errorText = tools.MSG.serverDown;\r\n        })\r\n        .finally(final=>{\r\n            tools.clickById(\"stop-loader\");\r\n            this.setState({errorText:this.errorText})\r\n        })\r\n    }\r\n\r\n    render(){\r\n        var { username, password } = this.credentials;\r\n        var MARGIN = tools.compare(tools.platform(),true,\"10%\",\"35%\");\r\n        document.addEventListener(\"keypress\",function(e){\r\n            console.log(e.keyCode)\r\n            if (e.keyCode === 13){\r\n                tools.clickById(\"login-go\");\r\n            }\r\n        });\r\n        return(\r\n            <IonPage>\r\n                <Widgets.languages/>\r\n                <Widgets.routes/>\r\n                <Widgets.loadSpinner/>\r\n                <AppInfo.All/>\r\n\r\n                <IonHeader>\r\n                    <IonToolbar>\r\n                        <IonTitle>{tools.MSG.APPNAME}</IonTitle>\r\n                    </IonToolbar>\r\n                </IonHeader>\r\n\r\n                <IonContent>\r\n                    <IonItem style={{textAlign:\"center\",color:\"red\"}} lines=\"none\">\r\n                        <IonLabel>{this.errorText}</IonLabel>\r\n                    </IonItem>\r\n                    <IonList style={{marginLeft:MARGIN,marginRight:MARGIN,\r\n                            padding:\"4%\",border:\"1px solid #000\"}}>\r\n                        <Widgets.textStyle subtitle=\"Sign in\" textColor=\"blue\" title={tools.MSG.APPNAME} L=\"22%\" C=\"\"/>\r\n\r\n                        <IonItem id=\"login-email\" class=\"loginItemStyle\">\r\n                            <IonLabel position=\"floating\">Email</IonLabel>\r\n                            <IonInput type=\"text\" onIonChange={e=>{\r\n                                this.credentials.username = e.detail.value;\r\n                                tools.inputValidationReset(\"login-email\");\r\n                            }} value={username}></IonInput>\r\n                        </IonItem>\r\n\r\n                        <IonItem id=\"login-password\" class=\"loginItemStyle\" style={{marginTop:\"5px\"}}>\r\n                            <IonLabel position=\"floating\">Password</IonLabel>\r\n                            <IonInput type=\"password\" onIonChange={e=>{\r\n                                this.credentials.password = e.detail.value;\r\n                                tools.inputValidationReset(\"login-password\");\r\n                            }} value={password}></IonInput>\r\n                        </IonItem>\r\n\r\n                        <div style={{marginTop:\"20px\",color:\"navy\"}}>\r\n                            <IonCheckbox checked={this.rememberChecked} onIonChange={e =>{\r\n                                this.rememberChecked = e.detail.checked;\r\n                            }}></IonCheckbox>\r\n                            <IonLabel>Remember me</IonLabel>\r\n                        </div>\r\n\r\n                        <div style={{marginTop:\"15px\",color:\"Crimson\"}} lines=\"none\">\r\n                            <IonLabel class=\"underLine\" onClick={()=>{\r\n                                tools.clickById(\"password-recover\");\r\n                            }}>Forgot credentials?</IonLabel>\r\n                        </div>\r\n                        \r\n                        <IonItem style={{marginTop:\"50px\",color:\"navy\"}} lines=\"none\">\r\n                            <IonLabel class=\"underLine\" onClick={()=>{\r\n                                tools.clickById(\"register\");\r\n                            }}>Create account</IonLabel>\r\n                            <IonButton id=\"login-go\" style={{cursor:\"pointer\"}} onClick={()=>{\r\n                                var validate = [\r\n                                    [this.credentials.username,\"login-email\"],\r\n                                    [this.credentials.password,\"login-password\"],\r\n                                ]\r\n                                if (tools.inputValidation(validate)){\r\n                                    if (tools.emailValidate(this.credentials.username)){\r\n                                        this.server();\r\n                                    }else{\r\n                                        tools.inputValidation([[\"\",\"login-email\"]]);\r\n                                        this.errorText = tools.MSG.validEmail;\r\n                                        this.setState({errorText:this.errorText});\r\n                                    }\r\n                                }else{\r\n                                    this.errorText = tools.MSG.provideValidCreds;\r\n                                    this.setState({errorText:this.errorText});\r\n                                }\r\n                            }}>Login</IonButton>\r\n                        </IonItem>\r\n                        <IonLabel class=\"underLine\" onClick={()=>{\r\n                            tools.clickById(\"home\")\r\n                        }} style={{color:\"Teal\"}}>Back to home</IonLabel>  \r\n                    </IonList>\r\n\r\n                    <IonItem style={{marginLeft:MARGIN,marginRight:MARGIN,textAlign:\"center\",\r\n                            fontWeight:\"bold\",color:\"Black\"}} lines=\"full\">\r\n                        <AppInfo.Nav/>\r\n                    </IonItem>\r\n                </IonContent>\r\n            </IonPage>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withIonLifeCycle(Login);\r\n"]},"metadata":{},"sourceType":"module"}